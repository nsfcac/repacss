---
import Layout from "../layouts/Layout.astro";
import DocsSidebar from "../components/docs/DocsSidebar.astro";
import DocStyles from "../components/docs/DocStyles.astro";
import BreadcrumbNav from "../components/docs/BreadcrumbNav.astro";
import ResourcesSection from "../components/docs/ResourcesSection.astro";
import TutorialGrid from "../components/docs/TutorialGrid.astro";
import DocsFooter from "../components/docs/DocsFooter.astro";

const activePage = "overview";
const title = "REPACSS User Guide";
---

<Layout title={title}>
    <DocStyles />

    <div class="flex min-h-screen pt-20">
        <!-- Sidebar -->
        <DocsSidebar activePage={activePage} />

        <!-- Main content area -->
        <main class="flex-1 ml-64 p-6 max-w-none">
            <!-- Breadcrumb -->
            <div class="mb-4">
                <nav class="flex items-center space-x-2 text text-gray-500">
                    <a href="/" class="hover:text-primary-400">üè†</a>
                    <span>/</span>
                    <span class="text-gray-900 dark:text-gray-100"
                        >REPACSS User Guide</span
                    >
                </nav>
            </div>

            <!-- Page header -->
            <div class="mb-8">
                <!-- <h1
                    class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4"
                >
                    REPACSS User Guide
                </h1> -->
                <p class="text-lg text-gray-600 dark:text-gray-400">
                    Welcome to the REPACSS User Guide. This documentation
                    provides comprehensive information about using the REPACSS
                    HPC data center and AI infrastructure
                    resources.
                </p>
            </div>

            <!-- Content sections -->
            <div class="docs-content space-y-8">
                <section>
                    <h2 class="text-xl font-semibold text-primary mb-4">
                        Documentation Structure
                    </h2>

                    <div class="mb-8">
                        <h3
                            class="text-xl font-medium text-gray-900 dark:text-gray-100 mb-3"
                        >
                            Quick Links
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                            Essential guides for getting started and daily
                            operations:
                        </p>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <a
                                href="/user-guide/getting-started"
                                target=""
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Getting Started
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Account setup and basic usage
                                </p>
                            </a>

                            <a
                                href="/user-guide/system-overview"
                                target=""
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    System Overview
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Hardware and software resources
                                </p>
                            </a>

                            <a
                                href="/user-guide/running-jobs"
                                target=""
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Running Jobs
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Job submission and management
                                </p>
                            </a>

                            <a
                                href="/user-guide/file-management"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    File Management
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Storage systems and file operations
                                </p>
                            </a>

                            <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/docs/software/available-software.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Software
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Available software and environment setup
                                </p>
                            </a>

                            <a
                                href="/user-guide/python-environment",
                                target=""
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Python Environment Setup
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Setting up Python environments with
                                    Miniforge
                                </p>
                            </a>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3
                            class="text-xl font-medium text-gray-900 dark:text-gray-100 mb-3"
                        >
                            Support & Resources
                        </h3>
                        <p class="text-lg text-gray-600 dark:text-gray-400 mb-4">
                            Additional resources and support information:
                        </p>

                        <div
                            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
                        >
                            <a
                                href="/user-guide/support"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="text font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Support
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Getting help and support channels
                                </p>
                            </a>

                            <a
                                href="/user-guide/faq"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    FAQ
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Frequently asked questions
                                </p>
                            </a>

                            <a
                                href="/user-guide/security"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Security
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Security policies and best practices
                                </p>
                            </a>

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/system-status.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    System Status
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Current system status and performance
                                </p>
                            </a> -->

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/training.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Training
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Training programs and materials
                                </p>
                            </a> -->

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/maintenance.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Maintenance
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    System maintenance schedules
                                </p>
                            </a> -->

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/calendar.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Calendar
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Events and important dates
                                </p>
                            </a> -->

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/feedback.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Feedback
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Providing feedback and suggestions
                                </p>
                            </a> -->

                            <!-- <a
                                href="https://github.com/nsfcac/repacss-user-guide/blob/main/src/support&resources/contact.md"
                                target="_blank"
                                class="group p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary transition-all duration-200 hover:shadow-sm"
                            >
                                <h4
                                    class="font-medium text-primary group-hover:text-primary-400 mb-1"
                                >
                                    Contact
                                </h4>
                                <p
                                    class="text text-gray-600 dark:text-gray-400"
                                >
                                    Contact information and office hours
                                </p>
                            </a> -->
                        </div>
                    </div>

                    <div>
                        <h3
                            class="text-xl font-medium text-gray-900 dark:text-gray-100 mb-3"
                        >
                            References
                        </h3>
                        <p class="text-lg text-gray-600 dark:text-gray-400 mb-4">
                            This documentation is based on the following
                            resources:
                        </p>

                        <ol
                            class="text list-decimal list-inside space-y-2 text-gray-600 dark:text-gray-400"
                        >
                            <li>
                                <a
                                    href="https://www.psc.edu/resources/bridges-2/user-guide/"
                                    class="text-primary hover:border-primary hover:underline"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    >https://www.psc.edu/resources/bridges-2/user-guide/</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://www.rcac.purdue.edu/knowledge/anvil"
                                    class="text-primary hover:border-primary hover:underline"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    >https://www.rcac.purdue.edu/knowledge/anvil</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://hprc.tamu.edu/kb/User-Guides/ACES/"
                                    class="text-primary hover:border-primary hover:underline"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    >https://hprc.tamu.edu/kb/User-Guides/ACES/</a
                                >
                            </li>
                            <li>
                                <a
                                    href="https://docs.ncsa.illinois.edu/systems/delta/en/latest/index.html"
                                    class="text-primary hover:border-primary hover:underline"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    >https://docs.ncsa.illinois.edu/systems/delta/en/latest/index.html</a
                                >
                            </li>
                        </ol>
                    </div>
                </section>

                <!-- <ResourcesSection /> -->
                <TutorialGrid />
            </div>

            <DocsFooter />
        </main>
    </div>
</Layout>

<script>
  import { event } from '../utils/analytics.ts';
  
  // Track user guide page view
  event({
    action: 'view_page',
    category: 'documentation',
    label: 'user_guide_overview',
  });
  
  // Track quick link clicks
  document.querySelectorAll('a[href^="/user-guide/"], a[href*="github.com"]').forEach(link => {
    link.addEventListener('click', () => {
      const linkText = link.querySelector('h4')?.textContent?.trim() || 'unknown_link';
      const isExternal = link.getAttribute('href')?.includes('github.com');
      
      event({
        action: isExternal ? 'click_external_link' : 'click_internal_link',
        category: 'user_guide',
        label: linkText,
      });
    });
  });
</script>

<style>
    /* Additional styling for content */
    .docs-content h2 {
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.5rem;
    }

    .dark .docs-content h2 {
        border-bottom-color: #374151;
    }
</style>
